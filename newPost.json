{"title":"关于clash新版本的配置写法更改教程","id":"2022/03/07/clashparsers/","date_published":"03/07/2022","summary":"使用Prasers更新订阅，会自动把旧配置改成新配置\n\nWindows对于0.19.4及以下用户，无需更改\n对于0.19.5及以上用户，请点击Settings-Profiles-Parsers-Edit（设置-配置-预处理配置-编辑）,删除默认的parsers: #array ,并粘贴以下内容\nparsers:  - reg: &#39;^.*$&#39;    code: |      module.exports.parse &#x3D; async (raw, &#123; axios, yaml, notify, console &#125;, &#123; name, url, interval, selected &#125;) &#x3D;&gt; &#123;        const obj &#x3D; yaml.parse(raw)        obj.proxies.forEach( v &#x3D;&gt; &#123;            if (v.network &#x3D;&#x3D;&#x3D; &#39;ws&#39; &amp;&amp; !v[&#39;ws-opts&#39;] &amp;&amp; v[&#39;ws-path&#39;] &amp;&amp; !v[&#39;ws-headers&#39;]) &#123;              const opts &#x3D; &#123;&#125;              opts.path &#x3D; v[&#39;ws-path&#39;]              v[&#39;ws-opts&#39;] &#x3D; opts              delete v[&#39;ws-path&#39;]            &#125;            if (v.network &#x3D;&#x3D;&#x3D; &#39;ws&#39; &amp;&amp; !v[&#39;ws-opts&#39;] &amp;&amp; v[&#39;ws-path&#39;] &amp;&amp; v[&#39;ws-headers&#39;]) &#123;              const opts &#x3D; &#123;&#125;              opts.path &#x3D; v[&#39;ws-path&#39;]              opts.headers &#x3D; v[&#39;ws-headers&#39;]              v[&#39;ws-opts&#39;] &#x3D; opts              delete v[&#39;ws-path&#39;]              delete v[&#39;ws-headers&#39;]            &#125;        &#125;)        return yaml.stringify(obj)      &#125;\n然后更新订阅（注意，parsers内容仅在更新订阅时生效，一定要更新一次订阅）\nMAC对于Clash for Windows的mac版用户，操作方法同Windows\n对于Clash X用户，请使用1.72.0及以前版本，如果不能接受旧版本，请手动修改或换到CFW mac版","url":"https://ednovas.xyz/2022/03/07/clashparsers/","tags":["科学上网","clash"],"categories":["科学上网"]}